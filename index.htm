<!doctype html> <html lang=en>
  <head> <meta charset=utf-8>
    
    <title>opayra</title>
    
    <meta name="description" content="opayra thierry vergult popay ebs oracle ebusiness suite">
    
    <meta name="viewport" content="width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    
    <link rel="icon" type="image/svg+xml" href="./assets/favicon.svg">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    
    <script>
      function loadHtmlCard( card) {
        cardHtml = 'cards/' + card.id + '.htm';

        fetch( cardHtml)
          .then( response => response.text())
          .then( html => {
            card.innerHTML = html;

            // Find and execute scripts
            const scripts = card.querySelectorAll('script');
            scripts.forEach(oldScript => {
              const newScript = document.createElement('script');
              // If the script has a src, copy it
              if (oldScript.src) {
                newScript.src = oldScript.src;
              } else {
                newScript.textContent = oldScript.textContent;
              }
              // Copy script attributes if needed (type, etc.)
              Array.from(oldScript.attributes).forEach(attr => {
                newScript.setAttribute(attr.name, attr.value);
              });
              // Append to body (or head)
              card.appendChild(newScript);
            });
          });
      }
    </script>
    
    <script src='https://cdn.jsdelivr.net/npm/echarts@6.0.0/dist/echarts.min.js'></script>
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/6.1.1/d3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/3.0.2/topojson.min.js"></script>
    <script src="https://thierryvergult.github.io/CandyPie/candy-pie-babylon.js"></script>
    <script src="https://cdn.babylonjs.com/gui/babylon.gui.js"></script>
    <script src="./assets/meshwriter.min.js"></script>
    <script src="./assets/opayra.babylon.js"></script>
    <script src="./assets/candy-bar.js"></script>
    
    <style>
      /* global css variable */
      :root {
        --main-color: #009FC2;
        --opposite-color: white;
      }
      
      .container {
        display: grid;
        grid-gap: 30px;
        grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
        grid-template-rows: repeat( 1, minmax(200px, 1fr));
        font-family: QuicksandBook, Arial, sans-serif;
      }
      
      .card > .header {
        color: white;
        font-weight: bold;
        background-color: var( --main-color);
        padding: 20px;
      }

      .card > .header > .action-right {
        float: right;
        color: var( --main-color);
        font-weight: bold;
        background-color: white;
        padding: 4px 8px 2px 8px;
        margin-top: -4px;
        border-radius: 10px;
        cursor: pointer;
      }
      
      .card .article {
        color: var( --main-color);
        padding: 20px;
      }

      .card > .article.chart {
        padding-left: 0;
        padding-right: 0;
      }
      
      .card a {
        color: var( --main-color);
        font-weight: bold;
        text-decoration: inherit;
      }
      
      .card .right {
        text-align: right;
        float: right;
      }

    </style>
  </head>
  
  <body>
    <div class='container'>
      
      <div class='card' id='welcome'></div>
      <div class='card' id='admin'></div>
      <div class='card' id='now'></div>
      <div class='card' id='blog'></div>
      <div class='card' id='headcount'></div>
      <div class='card' id='payslip'></div>
      <div class='card' id='africa'></div>
      <div class='card' id='documentool'></div>
      <div class='card' id='techno'></div>
      <div class='card' id='candy-pie'></div>
      <div class='card' id='candy-bar'></div>
      
    </div>
    
  </body>

  <script>
    const cards = document.querySelectorAll('.card');

    cards.forEach( el => {
      loadHtmlCard(el);
    });
    /*
      == to do ==
      > remove the first script tag, since copied over
      > add standing
      > candy-bar: bar-picker is sometimes broken
    */
  </script>

</html>
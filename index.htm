<!doctype html> <html lang=en>
  <head> <meta charset=utf-8>
    
    <title>opayra</title>
    
    <meta name="description" content="opayra thierry vergult popay ebs oracle ebusiness suite">
    
    <meta name="viewport" content="width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    
    <link rel="icon" type="image/svg+xml" href="./assets/favicon.svg">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    
    <style>
      /* global css variable */
      :root {
        --main-color: #009FC2;
        --opposite-color: white;
      }
      
      .container {
        display: grid;
        grid-gap: 30px;
        grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
        grid-template-rows: repeat( 1, minmax(200px, 1fr));
        font-family: QuicksandBook, Arial, sans-serif;
      }
      
      .card > .header {
        color: white;
        font-weight: bold;
        background-color: var( --main-color);
        padding: 20px;
      }

      .card > .header > .note-right {
        float: right;
        color: var( --main-color);
        font-weight: bold;
        background-color: white;
        padding-left: 8px;
        padding-right: 8px;
        padding-top: 4px;
        padding-bottom: 2px;
        margin-top: -4px;
        border-radius: 10px;
      }
      
      .card .article {
        color: var( --main-color);
        padding: 20px;
      }
      
      .card a {
        color: var( --main-color);
        font-weight: bold;
        text-decoration: inherit;
      }
      
      .card .right {
        text-align: right;
        float: right;
      }

    </style>
  </head>
  
  <body>
    <div class='container'>
      <div class='card'  id='welcome'>
        <div class='header'>welcome</div>
        <div class='article'>
          <div>Opayra is the company behind Thierry Vergult.</div>
          <p>HR &amp; Payroll expertise since 1998.
          <ul class="fa-ul">
            <li><i class="fa-li fa fa-check-square-o"></i>project management</li>
            <li><i class="fa-li fa fa-check-square-o"></i>technical development</li>
            <li><i class="fa-li fa fa-check-square-o"></i>functional design</li>
          </ul>
          <p>And rolling out projects in Europe and <a href="#africa">Africa</a> since.</p>
        </div>
      </div>
      
      <div class='card' id='admin'>
        <div class='header'>admin</div>
        <div class='article'>
          <i class="fa fa-pencil fa-2x"></i>
          <div class='right'>
            <div>opayra bv</div>
            <div>dok-noord 17</div>
            <div>9000 gent</div>
            <p>BE 0864.183.787</p>
            <a href="mailto:thierry+site@opayra.com"><i class="fa fa-envelope-o"></i></a>
          </div>
        </div>
      </div>
      
      <div class='card' id='now'>
        <div class='header'>now</div>
        <div class='article'>
          <i class="fa fa-calculator fa-2x"></i>
          <div style="padding-top: 10px; padding-bottom: 20px;">
            Actual focus is on payroll and data visualisations.
          </div>
          <div style="text-align: right;">
            <i class="fa fa-line-chart fa-2x"></i>
          </div>
        </div>
      </div>
      
      <div class='card' id='blog'>
        <script>
          function handleBloggerResponse(response) {
            
            var feed = response.items;
            console.log( 'blog feeds found: ' + feed.length);
            
            // create a top 3 list.
            
            document.getElementById("idBlogTitles").innerHTML = '<ul>';
            
            for ( i = 0 ; i < 3; i++) {
              document.getElementById("idBlogTitles").innerHTML += "<li>" + feed[i].title;
            }
            
            document.getElementById("idBlogTitles").innerHTML += '</ul>';
            
          }
        </script>

        <div class='header'>blog</div>
        <div class='article'>
          From the time before social networks, here some <a href="http://oraclehrms.blogspot.com" target="_blank">blog posts</a>.
          <div id="idBlogTitles"></div>
        </div>

        <!-- my blog id is 5750484 (log in into blogger, and see the id in the url ) 
             the api key is generated in console.developers.google.com -->
        <script src="https://www.googleapis.com/blogger/v3/blogs/5750484/posts?callback=handleBloggerResponse&key=AIzaSyDqfppxCtpfDu-e8RVkcR4KF6Nt_6SU548"></script>
      </div>
      
      <div class='card' id='headcount'>
        <div class='header'>headcount visualisation</div>
        <div class='article'>
          <div>
            <img src="./assets/in_out.jpg" style="width:100%;">
          </div>
        
        </div>
      </div>

      <div class='card' id='payslip'>
        <style>
          input[name='trace']:checked:after {
            width: 15px;
            height: 15px;
            top: -6px;
            left: -8px;
            position: relative;
            background-color: var( --main-color);
            content: '';
            display: inline-block;
            visibility: visible;
            border: 4px solid white;
          }

          input[value='sunburst']:after {
            border-radius: 15px;
          }
        </style>

        <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>

        <div class='header'>payslip visualisation</div>
        <div class='article'>
          <label for="sunburst"></label><input type="radio" name="trace" value="sunburst" onclick="show_payslip(value);" checked="checked">sunburst</label>
          <label for="treemap"> </label><input type="radio" name="trace" value="treemap"  onclick="show_payslip(value);">treemap</label>

          <div id='payBurst' style="width: 360px; margin: 0 auto;"></div>
        </div>

        <script>
          function show_payslip( traceType) {
            //console.log( traceType);
            data[0].type = traceType;

            if (traceType == 'treemap') {
              data[0].labels[0] = 'Uniform loon';
            }
            Plotly.newPlot( 'payBurst', data, layout, config);
          }

          var data = [{
            type: "sunburst",
            ids: [ "earnings", "net", "deductions", "earn01", "earn02", "deduct01", "deduct02", "net00"],
            labels: [ "Uniform<br>loon", "netto", "Inhoudingen", "Maandloon", "Gewerkte<br>uren", "zvw", "loonheffing", " "],
            parents: [ "", "", "", "earnings", "earnings", "deductions", "deductions", "net"],
            values:  [2000, 1144.83, 855.17, 1500, 500, 109.00, 746.17, 1144.83],
            outsidetextfont: {size: 20, color: "#377eb8"},
            leaf: {opacity: 0.7},
            marker: {
                      line: {width: 6},
                      colors: [ "#009FC2","#91cd97","#f25752"]
                    },
            branchvalues: 'total',
            textposition: 'middle center',
            sort: false, // hey hey, this is mine
            rotation: 90, // hey hey
            root: { color: "#009FC2"} // hey
          }];
          
          var layout = {
            margin: {l: 0, r: 0, b: 0, t: 0},
            width: 320,
            height: 320
          };

          var config = {
            modeBarButtonsToRemove: [ 'toggleHover']
          }
          
          var traceType = document.querySelector('input[name="trace"]:checked').value;
          show_payslip( traceType);

        </script>
      </div>

      <div class='card' id='africa'>
          <link rel="stylesheet" href="./assets/map.css">
  
          <script src="//cdnjs.cloudflare.com/ajax/libs/d3/6.1.1/d3.min.js"></script>
          <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/3.0.2/topojson.min.js"></script>

        <div class='header'>payroll in africa</div>
        <div class='article'>
          <div id="map"></div>
          <script src="./assets/map.js"></script>
        </div>
      </div>
      
      <div class='card' id='apex'>
        <div class='header'>apex on apps</div>
        <div class='article'>
          <a href="http://sites.google.com/a/popay.be/apex-on-apps/integration" target="_blank">More info</a>
          to integrate apex, aka
          <a href="http://apex.oracle.com" target="_blank">Oracle application express</a>, with Oracle's eBusiness suite.
        </div>
      </div>

      <div class='card'>
        <div class='header'>documentool</div>
        <div class='article'>
          <a href="http://www.documentool.com" target="_blank">Documentool</a> generates your Oracle eBusiness suite Hr &amp; Payroll setup documentation.
          <p></p>
          <img src="./assets/documentoolLoop.gif" width="100%">
        </div>
      </div>

      <div class='card' id='techno'>
        <div class='header'>techno</div>
        <div class='article'>
          <ul class="fa-ul">
            <li><i class="fa-li fa fa-check-square-o"></i>oracle database</li>
            <li><i class="fa-li fa fa-check-square-o"></i>html5</li>
            <li><i class="fa-li fa fa-check-square-o"></i>javascript</li>
            <li><i class="fa-li fa fa-check-square-o"></i>oracle application express (apex)</li>
            <li><i class="fa-li fa fa-check-square-o"></i>plsql</li>
            <li><i class="fa-li fa fa-check-square-o"></i>d3</li>
          </ul>
        </div>
      </div>

      <div class='card' id='knaak'>
        <div class='header'>nl tax - knaak
          <span id="taxYear" class="note-right" onclick="flipYear()">1999</span>
        </div>
        <div class='article'>
          <p>Bereken loonheffing &amp; sv premies</p>
          <ul>
            <li>witte maandtabel
            <li>jonger dan de AOW leeftijd
            <li>woonland Nederland
          </ul>
          <br>
          <p>uniform loon
            <input type="number" id="brutoLoon" name="brutoLoon" min="0" max="999999" onchange="nlTaxHtml()">
            <br><br>
            <ul>
              <li>loonheffing</li>
              <ul>
                <li id="tax01"><i class="fa fa-question"></i>
                <li id="tax02"><i class="fa fa-question"></i>
              </ul>
              <li>sv bedragen
              <ul>
                <li id="zvwl"><i class="fa fa-question"></i>
                <li>werkgeverslasten &nbsp; &nbsp; <small><small id="id-sv-er-pct"></small></small>
                <ul>
                  <li id="wgl-wab-laag"><i class="fa fa-question"></i>
                  <li id="wgl"><i class="fa fa-question"></i>
                  </ul>
                </ul>
            </ul>
          </p>

          <br>
          <i>sql-webservice on a public google sheet.</i>
          
          <script>
            // set tax year, based upon current year
            document.getElementById("taxYear").innerHTML = new Date().getFullYear();

            // query the nl calc year values

            opayra = {};

            var queryString = encodeURIComponent('SELECT A, B, C, D, E, F, G ');
            var url = 'https://docs.google.com/spreadsheets/d/195Am8WL7nybm4mUgUSVbG8kYB-Ob6kts5T3iVj-YQAQ/gviz/tq?tqx=out:csv&range=A2:G3' 
                    + '&sheet=param' 
                    + '&tq=' + queryString;
      
            console.log( 'url to google sheet with param sql:'+ url);
      
            fetch( url)
            .then( response => response.text())
            .then( function (csvData) {
              console.log( 'param data from google sheet below');
              console.log( csvData);
              
              opayra.csvParam = csvData.split("\n");

              opayra.y = [];

              for (i=0 ; i < opayra.csvParam.length; i++) {
                var oneYear = opayra.csvParam[i].split(',');
                //console.log( oneYear);

                var y0 = parseInt( oneYear[0].replace( /"/g, ''));
                //console.log( y0);

                opayra.y[y0] = {};

                opayra.y[y0].zvw_ee = parseFloat( oneYear[1].replace( /"/g, ''));
                opayra.y[y0].sv_er = parseFloat( oneYear[2].replace( /"/g, ''));
                opayra.y[y0].sv_max = parseFloat( oneYear[3].replace( /"/g, ''));
                opayra.y[y0].delta_wab = parseInt( oneYear[4].replace( /"/g, ''));
                opayra.y[y0].tax_max_in_tab = parseInt( oneYear[5].replace( /"/g, ''));
                opayra.y[y0].pct_tax_over_max = parseFloat( oneYear[6].replace( /"/g, ''));

              }

            });
            
            function flipYear() {
              var taxY = Number( document.getElementById("taxYear").innerText);
              
              taxY = 2020 + ( (taxY + 1) % 2);
              
              document.getElementById("taxYear").innerHTML = taxY;

              nlTaxHtml();
            }

            function euro2id( id, txt, amount, plus) {
              var extra = '';
              if (plus) {
                extra = '&nbsp; <small>&EqualTilde;</small>';
              }

              document.getElementById(id).innerHTML = txt + ' : &euro;' + amount.toFixed(2) + extra;
            }

            function nlTaxHtml() {
              var brutoLoon = Number( document.getElementById("brutoLoon").value);
              var taxY = Number( document.getElementById("taxYear").innerText);

              console.log( 'bruto=' + brutoLoon + ' year=' + taxY);

              nlTax( brutoLoon, taxY);
            }

            function nlTax( brutoLoon, year) {
              
              var queryString = encodeURIComponent('SELECT C, D where A <= ' + brutoLoon + ' and B >= ' + brutoLoon);
              var url = 'https://docs.google.com/spreadsheets/d/195Am8WL7nybm4mUgUSVbG8kYB-Ob6kts5T3iVj-YQAQ/gviz/tq?tqx=out:csv&range=A2:D3000' 
                      + '&sheet=' + year 
                      + '&tq=' + queryString;
      
              console.log( 'url to google sheet with sql:'+ url);
      
              fetch( url)
              .then( response => response.text())
              .then( function (data) {
      
                console.log( '1 line csv from google sheet: ' + data);
                var taxValues = data.split(',');
                
                var tax_zonder_lhk = parseFloat( taxValues[0].replace( /"/g, ''));
                var tax_met_lhk = parseFloat( taxValues[1].replace( /"/g, ''));
                //console.log( tax_zonder_lhk + ' - ' + tax_met_lhk + ' : delta=' + (tax_zonder_lhk - tax_met_lhk));

                var taxPlus = false;

                const taxMax = opayra.y[year].tax_max_in_tab;
                const taxPctOverMax = opayra.y[year].pct_tax_over_max / 100;

                if ( brutoLoon > taxMax) {
                  tax_zonder_lhk = tax_zonder_lhk + (brutoLoon - taxMax) * taxPctOverMax;
                  tax_met_lhk = tax_zonder_lhk;
                  taxPlus = true;
                }

                euro2id( 'tax01', 'geen loonheffingskorting', tax_zonder_lhk, taxPlus);
                euro2id( 'tax02', 'met loonheffingskorting', tax_met_lhk, taxPlus);

                const svMaxMonthBase = opayra.y[year].sv_max;
                const pctZvwl = opayra.y[year].zvw_ee / 100;
                const pctWgl = opayra.y[year].sv_er / 100;
                const deltaWabLaag = opayra.y[year].delta_wab / 100;

                svLoon = brutoLoon;
                svPlus = false;

                if (brutoLoon > svMaxMonthBase) {
                  svLoon = svMaxMonthBase;
                  svPlus = true;
                }
                var zvwl = svLoon * pctZvwl;
                var wgl = svLoon * pctWgl;
                var wgl_wabLaag = svLoon * ( pctWgl - deltaWabLaag);

                euro2id( 'zvwl', 'inhouding zvw', zvwl, svPlus);
                euro2id( 'wgl-wab-laag', 'wab laag', wgl_wabLaag, svPlus);
                euro2id( 'wgl', 'wab hoog', wgl, svPlus);

                document.getElementById('id-sv-er-pct').innerHTML = opayra.y[year].sv_er + "%" + ( year == 2021 ? " (aug)" : "");
      
              });
      
            }
      
          </script>

        </div>
      </div>

      <div class='card' id='caty-graph-css'>
        <style>
          #graph-css-id {
            /* have to set all 4 borders, if not the sticks move, so make 2 of them transparent */
            border-style: solid;
            border-width: 1px 1px 4px 4px;
            border-color: rgba(0,0,0,0) rgba(0,0,0,0) grey grey;
            border-inline-end-style: solid;
            margin-top: 50px;
            height: 200px;
          }
    
          #cube-container1 {
            margin-top: -60px;
            margin-left: 20px;
            height: 150px; /* max height h1, h2 */
            position: relative;
          }
    
          #cube-container2 {
            margin-top: -100px;
            margin-left: 200px;
            height: 150px; /* max height h1, h2 */
            position: relative;
          }
    
          .face {
            position: absolute;
            transform-origin: bottom left;
            transition-timing-function: ease;
            /* border: 1px white solid; */
          }
    
          .sketchyX {
            /* thanks, https://webartdevelopers.com/blog/sketchy-border/ */
            border: 2px solid grey;
            font-size: 2.5rem;
            border-radius: 2% 6% 5% 4% / 1% 1% 2% 4%;
          }
    
          .sketchyX::before {
                content: '';
                border: 2px solid grey;
                display: block;
                width: 100%;
                height: 100%;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate3d(-50%, -50%, 0) scale(1.015) rotate(0.5deg);
                border-radius: 1% 1% 2% 4% / 2% 6% 5% 4%;
            }
    
          .h1 {
            height: 150px;
          }
    
          .h2 {
            height: 100px;
          }
    
          .Cfront {
            background-image: linear-gradient( plum 0% 20%, orange 20% 100%);
          }
    
          .Cright {
            background-image: linear-gradient(#e66465 0% 40%, #9198e5 40% 100%);
            z-index: 3;
            animation: aniRight 8s forwards infinite;
          }
    
          .Cback {
            background-image: linear-gradient( #9198e5 0% 40%, orange 40% 100%);
            animation: aniBack 8s forwards infinite;
            z-index: 2;
            transform-origin: top right;
          }
    
          .Cleft {
            background-image: linear-gradient( yellow 0% 75%, lightgreen 75% 100%);
            z-index: 1;
            transform-origin: top right;
            animation: aniLeft 8s forwards infinite;
          }
    
          @keyframes aniRight {
            0%   { width:30px; transform: translateX(90px) skewY(  0deg) translateY(100px); }
            10%  { width:30px; transform: translateX(90px) skewY(  0deg) translateY(100px); }
            25%  { width:24px; transform: translateX(90px) skewY(-30deg) translateY(100px); }
            50%  { width:24px; transform: translateX(90px) skewY(-30deg) translateY(100px); }
            75%  { width:30px; transform: translateX(90px) skewY(  0deg) translateY(100px); }
            90%  { width:30px; transform: translateX(90px) skewY(  0deg) translateY(100px); }
            100% { width:30px; transform: translateX(90px) skewY(  0deg) translateY(100px); }
          }
    
          @keyframes aniLeft {
            0%   { width:30px; transform: translateX(30px) rotateY(  0deg) skewY( 0deg) translateY(100px); }
            10%  { width:30px; transform: translateX(30px) rotateY(  0deg) skewY( 0deg) translateY(100px); }
            25%  { width:24px; transform: translateX(36px) rotateY(180deg) skewY(30deg) translateY(100px); }
            75%  { width:24px; transform: translateX(36px) rotateY(180deg) skewY(30deg) translateY(100px); }
            90%  { width:30px; transform: translateX(30px) rotateY(  0deg) skewY( 0deg) translateY(100px); }
            100% { width:30px; transform: translateX(30px) rotateY(  0deg) skewY( 0deg) translateY(100px); }
          }
    
          @keyframes aniBack {
            0%   { width:30px; transform: translateX(0px)  rotateY(  0deg) skewY( 0deg) translateY(100px); }
            10%  { width:30px; transform: translateX(0px)  rotateY(  0deg) skewY( 0deg) translateY(100px); }
            25%  { width:24px; transform: translateX(60px) rotateY(180deg) skewY(30deg) translateY( 86px); }
            50%  { width:30px; transform: translateX(54px) rotateY(180deg) skewY( 0deg) translateY( 86px); }
            75%  { width:24px; transform: translateX(60px) rotateY(180deg) skewY(30deg) translateY( 86px); }
            90%  { width:30px; transform: translateX(0px)  rotateY(  0deg) skewY( 0deg) translateY(100px); }
            100% { width:30px; transform: translateX(0px)  rotateY(  0deg) skewY( 0deg) translateY(100px); }
          }
        </style>

        <div class='header'>multi-categorical bar chart</div>
        <div class='article'>
          <p>from 2d to 3d. fool around with css.</p>

          <div id='graph-css-id'>
            <section id="cube-container1">
              <div class= "Cback  face h1 sketchy"></div>
              <div class= "Cleft  face h1 sketchy"></div>
              <div class= "Cfront face h1 sketchy" style="width:30px; transform: translateX(60px) skewY(0deg) translateY(100px); z-index: 4;"></div>
              <div class= "Cright face h1 sketchy"></div>
            </section>
      
            <section id="cube-container2">
              <div class= "Cback  face h2 sketchy"></div>
              <div class= "Cleft  face h2 sketchy"></div>
              <div class= "Cfront face h2 sketchy" style="width:30px; transform: translateX(60px) skewY(0deg) translateY(100px); z-index: 4;"></div>
              <div class= "Cright face h2 sketchy"></div>
            </section>
          </div>
        </div>
      </div>

      <div class='card' id='candy-bar'>
        <link rel="stylesheet" href="./assets/candy-bar.css"/>

        <style>
          input[name='candy-sub-cat']:after {
            width: 15px;
            height: 15px;
            border-radius: 15px;
            top: -2px;
            left: -1px;
            position: relative;
            background-color: #d1d3d1;
            content: '';
            display: inline-block;
            visibility: visible;
            border: 2px solid white;
            cursor: pointer;
          }

          input[name='candy-sub-cat']:checked:after {
            width: 15px;
            height: 15px;
            border-radius: 5px;
            top: -2px;
            left: -1px;
            position: relative;
            background-color: var(--main-color);
            content: '';
            display: inline-block;
            visibility: visible;
            border: 2px solid white;
          }
        </style>

        <div class='header'>candy bar
          <div style='float:right;'>sub-categories
            <label><input type="radio" id="candy-face3" name="candy-faces" value="3" onclick="opayra.recreateScene(3);">3</label>
            <label><input type="radio" id="candy-face3" name="candy-faces" value="4" onclick="opayra.recreateScene(4);" checked>4</label>
          </div>
        </div>
        <div class='article'>
          <script src="https://cdn.babylonjs.com/babylon.js"></script>
          <script src="./assets/meshwriter.min.js"></script>
          <script src="./assets/opayra.babylon.js"></script>
          <script src="./assets/candy-bar.js"></script>
          <script>
            // opayra = {};
            opayra.in = {};
      
            opayra.algo = {};
            opayra.algo.yMax = 4;  // to do: fix usage in camera bullseye
            opayra.algo.X = 0; // to do, including camera, changing this one is now doing nothing. Need to understand, but is potentially very nice
            opayra.algo.facesMax = 4;
      
            opayra.config = {}
            opayra.config.debug = false;
            opayra.config.debugTextureBarNr = 2;
            opayra.config.tooltipPosition = 'pointerNo';
            opayra.config.tooltipShowTotalOfBar = true;
            
            opayra.in.title = 'employees by department';
            opayra.in.barLabel = ['sal', 'off', 'r&d', 'prd'];
            opayra.in.barLabelLong = ['sales', 'back office', 'r&d', 'production'];
      
            opayra.in.face = {};
            opayra.in.face.color = [];
            opayra.in.face.color[2] = [ 'lightgreen', 'lightblue'];
      
            opayra.in.face.catLabel = [];
            opayra.in.face.catLabel[0] = ['male', 'female'];
            opayra.in.face.catLabel[1] = ['home', 'office'];
            opayra.in.face.catLabel[2] = ['-30', '30+'];
            opayra.in.face.catLabel[3] = ['A', 'B', 'C', 'C+'];
      
            opayra.in.face.category = [];
            opayra.in.face.category[0] = 'gender';  // used in tooltip text
            opayra.in.face.category[1] = 'workplace';  // used in tooltip text
            opayra.in.face.category[2] = 'age group';  // used in tooltip text
            opayra.in.face.category[3] = 'category';  // used in tooltip text
      
            opayra.in.yAxValues = [ 100, 200, 300]; // see if the d3 scale library can do things here
      
            opayra.val = {};
            opayra.val = [];
      
            opayra.val[0] = [];
            opayra.val[0][0] = [40, 170];
            opayra.val[0][1] = [210];
            opayra.val[0][2] = [100, 110];
            opayra.val[0][3] = [150, 60];
            opayra.val[0][4] = [150, 60];
      
            opayra.val[1] = [];
            opayra.val[1][0] = [100, 100];
            opayra.val[1][1] = [150, 50];
            opayra.val[1][2] = [20, 180];
            opayra.val[1][3] = [150, 50];
            opayra.val[1][4] = [150, 50];
      
            opayra.val[2] = [];
            opayra.val[2][0] = [60, 260];
            opayra.val[2][1] = [210,110];
            opayra.val[2][2] = [150, 170];
            opayra.val[2][3] = [50, 50, 100, 120];
            opayra.val[2][4] = [50, 50, 100, 120];
            
            opayra.val[3] = [];
            opayra.val[3][0] = [100, 200];
            opayra.val[3][1] = [180, 120];
            opayra.val[3][2] = [50, 250];
            opayra.val[3][3] = [50, 50, 100, 100];
            opayra.val[3][4] = [50, 50, 100, 100];
            
            opayra.col = ['steelblue', 'red', 'green', 'orange', 'yellow'];
            
          </script>
    
          <div class="cat-bar-graph">
            <div class="cat-bar-graph-header">
              <span id="candy-bar-graph-header-title">title</span>
              
              <div class="cat-bar-graph-header-subcategories">
                <label><input type="radio" id="candy-sub-cat1" name="candy-sub-cat" value="candy-sub-cat1" onclick="opayra.rotateBarsRadio( { faceNr: 0});">&nbsp;by gender</label>
                <label><input type="radio" id="candy-sub-cat2" name="candy-sub-cat" value="candy-sub-cat2" onclick="opayra.rotateBarsRadio( { faceNr: 1});">&nbsp;by workplace</label>
                <label><input type="radio" id="candy-sub-cat3" name="candy-sub-cat" value="candy-sub-cat3" onclick="opayra.rotateBarsRadio( { faceNr: 2});">&nbsp;by age group</label>
                <label><input type="radio" id="candy-sub-cat4" name="candy-sub-cat" value="candy-sub-cat4" onclick="opayra.rotateBarsRadio( { faceNr: 3});">&nbsp;by category</label>
              </div>
              
            </div>

            <div class='candy-bar'>
              <canvas id="opayra-caty-bar-chart"></canvas>
            </div>

            <ul style='font-size: smaller;'>
              <li>You can choose to see 3 or 4 sub-categories on a candy bar
              <li>You can choose the sub-category you want to see in front
              <li>click on a pane to see the actual numbers
            </ul>
          </div>

          <script>
      
            var canvas = document.getElementById("opayra-caty-bar-chart");
            var engine = new BABYLON.Engine( canvas, true);
            var scene = createScene(canvas, engine);
      
            engine.runRenderLoop(function () {
              scene.render();
            });
      
            window.addEventListener("resize", function () {
              engine.resize();
            });
            
          </script>
        </div>

        <i><a href="https://www.babylonjs.com" target='_blank' style='font-weight: normal;'>powered by babylon.js</a></i>
      </div>
      
    </div>
    
  </body>
</html>
